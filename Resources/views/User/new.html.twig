<div id="orkestra_user_create_alert" class="alert-box error"></div>
<div class="row popup-header">
    <div class="columns">
        <h3>Add New Employee</h3>
    </div>
</div>
<form id="orkestra_user_create" action="{{ path('orkestra_user_create') }}" method="post" {{ form_enctype(form) }}>
    <div class="row">
        <div class="columns">
            {{ form_row(form.firstName, { 'attr' : { 'class' : 'input-medium' } }) }}
        </div>
        <div class="columns">
            {{ form_row(form.lastName, { 'attr' : { 'class' : 'input-medium' } }) }}
        </div>
    </div>
    <div class="row">
        <div class="columns">
            {{ form_row(form.email, { 'attr' : { 'class' : 'input-medium' } }) }}
        </div>
        <div class="columns">
            {{ form_row(form.username, { 'attr' : { 'class' : 'input-medium' } }) }}
        </div>
    </div>
    <div class="row">
        <div class="columns">
            {{ form_row(form.password.first, { 'attr' : { 'class' : 'input-medium' } }) }}
        </div>
        <div class="columns">
            {{ form_row(form.password.second, { 'attr' : { 'class' : 'input-medium' } }) }}
        </div>
    </div>
    <div class="row">
        <div class="columns">
            {{ form_row(form.groups, { 'attr' : { 'class' : 'input-large' } }) }}
        </div>
    </div>
    <div class="row">
        <div class="columns">
            <p>Does this user need the following roles?</p>
        </div>
    </div>
    <div class="row">
        <div class="columns">
            <div class="inline checkbox">
                {{ form_widget(form.technician) }}
                {{ form_label(form.technician) }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="columns license hidden">
            {{ form_row(form.licensenumber) }}
        </div>
    </div>
    <div class="row">
        <div class="columns">
            <div class="inline checkbox">
                {{ form_widget(form.salesperson) }}
                {{ form_label(form.salesperson) }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="columns">
            {{ form_row(form.preferences.timezone, { 'attr' : { 'class' : 'input-large' } }) }}
        </div>
    </div>
    <div class="row">
        <div class="hidden">
            {{ form_rest(form) }}
        </div>
        <div class="columns">
            <button class="btn btn-primary" type="submit">Create</button>
        </div>
    </div>
</form>
<script type="text/javascript">
    $(function() {
        $('#{{ form.technician.get('id') }}').change(function() {
            if ($(this).is(':checked')) {
                $('.license').slideDown('fast');
            } else {
                $('.license').slideUp('fast');
            }
        }).change();

        $('#orkestra_user_create').validate({
            errorLabelContainer: '#orkestra_user_create_alert'
        });
    });
</script>
